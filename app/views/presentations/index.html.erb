<% content_for :title, "#{Bio.instance.name}'s Presentations" %>

<div class="max-w-5xl mx-auto">
  <h1 class="<%= h1_classes %>">Presentations</h1>

  <p class="mb-6 text-gray-700">Below are links to my conference presentations. Please feel free to download and use any of the material below.</p>

  <div class="space-y-8">
    <% @presentations.each do |presentation| %>
      <div class="border-b border-gray-200 pb-8 last:border-b-0">
        <h2 class="text-xl font-semibold mb-2">
          <%= presentation.title %>
        </h2>

        <% if presentation.slides_url.present? %>
          <p class="mb-2">
            <%= link_to "/presentations/#{presentation.slides_url}", target: "_blank", rel: "noopener", class: "#{link_classes} inline-flex items-center gap-1" do %>
              Download Slidedeck
              <%= image_tag "download.svg", alt: "Download", class: "w-4 h-4" %>
            <% end %>
          </p>
        <% end %>

        <% if presentation.conferences.any? %>
          <p class="text-gray-600 mb-2">
            <span class="font-semibold">Presented at:</span>
            <% presentation.conferences.order(:title, :year).each_with_index do |conference, index| %>
              <% if safe_url(conference.link) %>
                <%= link_to "#{conference.title} (#{conference.year})", safe_url(conference.link), target: "_blank", rel: "noopener", class: link_classes %>
              <% else %>
                <%= conference.title %> (<%= conference.year %>)
              <% end %>
              <%= "," unless index == presentation.conferences.length - 1 %>
            <% end %>
          </p>
        <% end %>

        <p class="text-gray-700 mb-4"><%= presentation.abstract %></p>
      </div>
    <% end %>
  </div>
</div>
